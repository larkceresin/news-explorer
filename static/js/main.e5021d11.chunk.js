(this["webpackJsonpnews-frontend"]=this["webpackJsonpnews-frontend"]||[]).push([[0],{17:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),c=a.n(s),r=a(19),o=a.n(r),i=a(8),l=(a(17),a(2)),d=c.a.createContext(),u=a.p+"static/media/jennaToff.a53a5ba3.jpg";var h=function(){return Object(n.jsxs)("section",{className:"about-author",children:[Object(n.jsx)("img",{src:u,className:"about-author__image",alt:"Jenna Toff"}),Object(n.jsxs)("div",{className:"about-author__text-area",children:[Object(n.jsx)("h2",{className:"about-author__title",children:"About the author"}),Object(n.jsx)("p",{className:"about-author__text",children:"Jenna Toff is a software engineer with backgrounds in food, education and healthcare. She started taking the Web Development program at Practicum X Yandex in March 2020, after the global pandemic caused by the Covid-19 virus put a halt to the work she had at the time. "}),Object(n.jsxs)("p",{className:"about-author__text",children:['Web development was something Toff looked into as a "let\'s make my own website" for a pet project- but quickly became a desire to do more of than just for ',Object(n.jsx)("i",{children:"a project"}),"."]}),Object(n.jsx)("p",{className:"about-author__text",children:"Currently Toff is proficient in HTML, CSS, and JavaScript languages. She has experience using React.js, Node.js, Express.js. While studying she was a tutor assistant and helped other students in multiple other groups with questions they had on course and project material. She is looking to expand her knowledge to cover other programing languages."}),Object(n.jsx)("p",{className:"about-author__text",children:"Toff also has experience in data analysis, business administration, and information management. "})]})]})};var j=function(){return Object(n.jsxs)("footer",{className:"footer",children:[Object(n.jsx)("p",{className:"footer__copywright",children:"\xa9 2020 Supersite, Powered by News API"}),Object(n.jsxs)("div",{className:"footer__content-container",children:[Object(n.jsxs)("ul",{className:"footer__content footer__content_links",children:[Object(n.jsx)("li",{className:"footer__item",children:Object(n.jsx)("a",{className:"footer__link",href:"/",children:"Home"})}),Object(n.jsx)("li",{className:"footer__item",children:Object(n.jsx)("a",{className:"footer__link",href:"https://practicum.yandex.com/",target:"_blank",rel:"noreferrer",children:"Practicum by Yandex"})})]}),Object(n.jsxs)("ul",{className:"footer__content footer__content_icons",children:[Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://github.com/larkceresin",target:"_blank",rel:"noreferrer",children:Object(n.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAVCAYAAABCIB6VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJHSURBVHgBlVRBctpAENxdpYwguIoLQuIS/ALzA8sviDnmZPmWW/iB4QVOXgB+Ac4P4Jajc/PN8sVIdlFRqqJKTFW06RFIWckCxFSBpJnZ3p6e2WWspJmm2aFf2Xy+KdCA1XS9L6U8waedC08l52M8Z57nuaWBrVarj8ClBD7bxYzz4aPnDbYCE8tqpTIpYLjdpLz5vVxeBLDEJdR4rVIZ7Q0a0+Nna0KpaclL2zQHKP3jioAca1JeRIzpKLULv4vSXDzvxEoeHTkDvlw6UtMalANf5229/jMMw2/xXvRH3eZS3qeVRZHjPT9f0zvJo5aYN7PZdLgQo7UkASQ5ovxECltNlkKkTdsGGjMT4liRpKEfHHyi1xgYbM8zyZx/ZSUNY/cFZQfKWjsFVhlH6PCm2SwyyqU1isuOgfOnCbvfsj0NLDNyWZb1ThTkddi+wAVrRL5sJHXZniZza+bz+UPCePofmXchj81KGnIdpjCWa6wYGMM+VZN5FE2w4HwXqGEYZ0LKq4wzisYpsF6rrUZGyluMzyma4WIEx7iM7tuGMcoDWs3mVbvV+qFxPnl1UWnaLAV2XTdAwpBkAOBlxHmP3FTiX5ymV1SFYEU3Hx3zpGdvEufc9z+D4Xu2msMTfB9tOs4ACFBV1gdtvaenYbq3GqxUqz2k35AMJAEdT9KR7TAC/fPy0ssUpX6QJI++36OSoLUDVgMkHG8CpL7gBux7vn+ar0wrWvArDGf1w8NrdPg79H7AVXinxhHj0MPFTfZhsVjMijD+AV+R+atsLn4HAAAAAElFTkSuQmCC",alt:"github",className:" footer__icon"})})}),Object(n.jsx)("li",{children:Object(n.jsx)("a",{href:"https://www.facebook.com/shamanlvr/",target:"_blank",rel:"noreferrer",children:Object(n.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACpSURBVHgB7ZPRDYUgDEWvL28AN9AN1A0YxQ1cwQ0cSTcRJ3AExdhoRRLA9MMPb3JDQ8ppRQoAvfEi5D6hQEw/COsJsDXOjROyshNi7qhxFMitnGDYaIFSgime90e4tAUbab0o5g41i0sXLBYYpJB3WGPvbsLZ5dZdQXFl3PEDvp+RwV/wyJf45FtB73ySW3amZPszIp+NolWzvRSOCdn0iln+gHfgADkNK9WSWEKgAzmQAAAAAElFTkSuQmCC",alt:"facebook",className:"footer__icon "})})})]})]})]})},b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAQCAYAAAAbBi9cAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACQSURBVHgBvdPBDYAgDAVQSByAERjBEXQDR2AzRtINGMERao1oUCulkPiTXrQ+CwEFAA5rhUeUNPhNACJEn+UgdgJ8PcWpfSvUJ5P7aij22RTDMlUQgc03TALlMH0iGhMbQ4FnYu1ZsMaOaLJKlgNtXFq4ztfvm51FSiEWEUDu8yAmTa+bT8H4aFAFfwscxGUDKR1heOANe00AAAAASUVORK5CYII=";var m=function(e){var t=c.a.useContext(d);function a(){var e=document.querySelector(".header__dropdown-mobile"),t=document.querySelector(".header"),a=document.querySelector(".header__nav");e.classList.toggle("header__dropdown-mobile_active"),e.classList.contains("header__dropdown-mobile_active")&&(t.classList.add("header_menu-open"),a.classList.add("header__nav_menu-open")),e.classList.contains("header__dropdown-mobile_active")||(t.classList.remove("header_menu-open"),a.classList.remove("header__nav_menu-open"))}return Object(n.jsxs)("header",{className:"header",children:[Object(n.jsx)("p",{children:Object(n.jsx)("a",{href:"/",className:"header__text",children:" NewsExplorer"})}),Object(n.jsx)("button",{onClick:a,className:"header__dropdown-mobile "}),Object(n.jsxs)("div",{className:"header__nav",children:[Object(n.jsx)(i.b,{className:"header__nav-link",activeClassName:"header__nav-link_selected",to:"/",children:"Home"}),Object(n.jsx)(i.b,{className:"header__nav-link ".concat(e.loggedIn?"":"header__nav-link_hidden"),to:"/saved-news",children:"Saved articles"}),Object(n.jsxs)("button",{className:"button header__button",onClick:function(){e.buttonClick(),a()},children:[e.loggedIn?"".concat(t.name):"Sign in",Object(n.jsx)("img",{className:e.loggedIn?"header__image":"header__image header__image_hidden",src:b,alt:"logout"})]})]})]})};var A=function(e){var t=Object(s.useState)(""),a=Object(l.a)(t,2),c=a[0],r=a[1];return Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.onSubmit(c)},className:"search",children:[Object(n.jsx)("input",{placeholder:"Enter topic",className:"search__input",onChange:function(e){r(e.target.value)}}),Object(n.jsx)("button",{className:"button search__button",children:"Search"})]})};var _=function(e){return Object(n.jsxs)("section",{className:"main",children:[Object(n.jsx)(m,{buttonClick:e.headerClick,loggedIn:e.loggedIn}),Object(n.jsxs)("section",{className:"main__content",children:[Object(n.jsx)("h1",{className:"main__title",children:"What's going on in the world?"}),Object(n.jsx)("p",{className:"main__subtitle",children:"Find the latest news on any topic and save them in your personal account."}),Object(n.jsx)(A,{onSubmit:e.search})]})]})};var p=function(e){return Object(n.jsxs)("section",{className:"popout ".concat(e.isOpen?"popout_active":""),onClick:e.onClose,children:[Object(n.jsx)("button",{className:"popout__close-button",onClick:e.onClose}),Object(n.jsxs)("div",{className:"popout__main",children:[Object(n.jsx)("h2",{className:"popout__text",children:"Registration successfully completed"}),Object(n.jsx)("button",{onClick:e.linkClick,className:"popout__link",children:"Sign in"})]})]})};var g=function(e){return Object(n.jsxs)("section",{className:"popout ".concat(e.isOpen?"popout_active":""),onClick:e.onClose,children:[Object(n.jsx)("button",{className:"popout__close-button",onClick:e.onClose}),Object(n.jsxs)("form",{onSubmit:e.handleSubmit,className:"form",children:[Object(n.jsx)("h2",{className:"form__title",children:e.title}),e.children,Object(n.jsx)("button",{className:"button form__button ".concat(e.valid?"":"form__button_disabled"),type:"submit",value:e.buttonText,disabled:!e.valid,children:e.buttonText}),Object(n.jsxs)("p",{className:"form__text",children:["or ",Object(n.jsx)("button",{className:"form__link",onClick:e.linkClick,children:e.link})]})]})]})};var O=function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{htmlFor:e.name,className:"form__input-title",children:e.name}),Object(n.jsx)("input",{required:!0,id:e.name+"-"+e.form,className:"form__input",type:e.type,name:e.name,onChange:e.handleChange,placeholder:e.placeholderText}),Object(n.jsx)("span",{id:"".concat(e.name,"-error"),className:"form__input-error ".concat(e.valid?"":"form__input-error_visible"),children:e.errorText})]})};var f=function(e){var t=Object(s.useState)(!0),a=Object(l.a)(t,2),c=a[0],r=a[1],o=Object(s.useState)(""),i=Object(l.a)(o,2),d=i[0],u=i[1],h=Object(s.useState)(!1),j=Object(l.a)(h,2),b=j[0],m=j[1],A=Object(s.useState)(""),_=Object(l.a)(A,2),p=_[0],f=_[1],x=Object(s.useState)(!1),v=Object(l.a)(x,2),k=v[0],w=v[1];function C(e){w(e.target.closest("form").checkValidity())}return Object(n.jsxs)(g,{isOpen:e.isSignInOpen,buttonText:"Sign in",onClose:e.onClose,title:"Sign in",link:"Sign up",linkClick:e.linkClick,handleSubmit:function(t){t.preventDefault(),e.handleSubmit({email:d,password:p})},valid:k,children:[Object(n.jsx)(O,{type:"email",name:"Email",form:"sign-in",handleChange:function(e){u(e.target.value),r(function(e){return/\S+@\S+\.\S+/.test(e)}(d)),C(e)},errorText:"Invalid email address",valid:c,placeholderText:"Enter email"}),Object(n.jsx)(O,{type:"password",name:"Password",form:"sign-in",handleChange:function(e){f(e.target.value),p.length>7&&m(!0),C(e)},placeholderText:"Enter password",valid:b})]})};var x=function(e){var t=Object(s.useState)(!0),a=Object(l.a)(t,2),c=a[0],r=a[1],o=Object(s.useState)(""),i=Object(l.a)(o,2),d=i[0],u=i[1],h=Object(s.useState)(!0),j=Object(l.a)(h,2),b=j[0],m=j[1],A=Object(s.useState)(""),_=Object(l.a)(A,2),p=_[0],f=_[1],x=Object(s.useState)(!1),v=Object(l.a)(x,2),k=v[0],w=v[1],C=Object(s.useState)(""),N=Object(l.a)(C,2),S=N[0],y=N[1],E=Object(s.useState)(!0),I=Object(l.a)(E,2),B=I[0],T=I[1];function U(e){T(e.target.closest("form").checkValidity())}return Object(n.jsxs)(g,{isOpen:e.isSignUpOpen,buttonText:"Sign up",onClose:e.onClose,title:"Sign up",link:"Sign in",linkClick:e.linkClick,handleSubmit:function(t){t.preventDefault(),e.handleSubmit({email:d,password:S,name:p})},valid:B,children:[Object(n.jsx)(O,{type:"email",name:"Email",form:"sign-up",handleChange:function(e){u(e.target.value),r(function(e){return/\S+@\S+\.\S+/.test(e)}(d)),U(e)},errorText:"Invalid email address",valid:c,placeholderText:"Enter email"}),Object(n.jsx)(O,{type:"password",name:"Password",form:"sign-up",handleChange:function(e){y(e.target.value),S.length>6?w(!0):w(!1),U(e)},placeholderText:"Enter password",errorText:"Password requires additional characters",valid:k}),Object(n.jsx)(O,{type:"text",name:"Username",form:"sign-up",handleChange:function(e){f(e.target.value),m(!0),U(e)},errorText:"This username is not available",valid:b,placeholderText:"Enter your username"})]})},v=a(11),k=a(12),w=function(){function e(t){var a=t.baseUrl,n=t.headers;Object(v.a)(this,e),this._baseUrl=a,this._headers=n}return Object(k.a)(e,[{key:"saveArticle",value:function(e){var t=e.keyword,a=e.title,n=e.text,s=e.date,c=e.source,r=e.link;return fetch(this._baseUrl+"/articles",{headers:this._headers,method:"POST",body:JSON.stringify({keyword:t,title:a,text:n,date:s,source:c,link:r})}).then((function(e){return e.ok?e.json():Promise.reject("Error!"+e.status+e.statusText)}))}},{key:"getSavedArticles",value:function(){return fetch(this._baseUrl+"/articles",{headers:this._headers}).then((function(e){return e.ok?e.json():Promise.reject("Error!"+e.status+e.statusText)}))}},{key:"removeArticle",value:function(e){return fetch(this._baseUrl+"/articles/"+e,{headers:this._headers,method:"DELETE"}).then((function(e){return e.ok?e.json():Promise.reject("Error!"+e.status+e.statusText)}))}}]),e}();var C=function(e){var t=Object(s.useState)(!1),a=Object(l.a)(t,2),c=a[0],r=a[1],o=Object(s.useState)(""),i=Object(l.a)(o,2),d=i[0],u=i[1],h=Object(s.useState)(localStorage.getItem("jwt")),j=Object(l.a)(h,2),b=j[0],m=(j[1],new w({baseUrl:"https://www.api.larkceresin.students.nomoreparties.site",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(b)}}));return Object(n.jsxs)("li",{className:"card",children:[Object(n.jsx)("button",{className:"button card__save-button ".concat(e.savedArticles?"card__element_hidden":""),onMouseEnter:function(){e.loggedIn||r(!0)},onMouseLeave:function(){return r(!1)},onClick:function(t){e.loggedIn&&(t.target.classList.contains("card__save-button_saved")||m.saveArticle({keyword:e.keyword,title:e.title,text:e.text,date:e.date,source:e.source,link:e.image}).then((function(e){u(e._id),t.target.classList.add("card__save-button_saved")})),t.target.classList.contains("card__save-button_saved")&&(e.removeClickHandler(d),t.target.classList.remove("card__save-button_saved")))}}),Object(n.jsx)("button",{className:"button card__trash-button ".concat(e.savedArticles?"":"card__element_hidden"),onMouseEnter:function(){return r(!0)},onMouseLeave:function(){return r(!1)},onClick:function(){e.cardId&&(u(),console.log(d),m.removeArticle(e.cardId))}}),Object(n.jsx)("button",{className:"button card__keyword-button ".concat(e.savedArticles?"":"card__element_hidden"),children:e.keyword}),Object(n.jsx)("button",{className:"card__hover-text ".concat(c?"":"card__element_hidden"),children:e.hoverText}),Object(n.jsxs)("a",{href:e.link,target:"_blank",rel:"noreferrer",className:"card__link",children:[Object(n.jsx)("img",{className:"card__image",src:e.image,alt:e.title}),Object(n.jsx)("p",{className:"card__date",children:function(){var t=e.date.slice(0,10),a=new Date(t);return"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][a.getMonth()]," ").concat(a.getDay(),",  ").concat(a.getFullYear())}()}),Object(n.jsx)("h3",{className:"card__title",children:e.title}),Object(n.jsx)("p",{className:"card__text",children:e.text}),Object(n.jsx)("p",{className:"card__source-text card__source",children:e.source})]})]})};var N=function(e){var t=Object(s.useState)(!1),a=Object(l.a)(t,2),c=a[0],r=a[1],o=Object(s.useState)(e.cards),i=Object(l.a)(o,2),d=i[0],u=i[1],h=Object(s.useState)(3),j=Object(l.a)(h,2),b=j[0],m=j[1];return Object(s.useEffect)((function(){u(e.cards.slice(0,b)),e.cards.length<b?r(!1):r(!0)}),[b]),Object(n.jsxs)("section",{className:"card__list",children:[Object(n.jsx)("h2",{className:"card__list-title ".concat(e.savedArticles?"card__element_hidden":""),children:"Search Results"}),Object(n.jsx)("ul",{className:"card__container",children:e.savedArticles?e.cards.map((function(t,a){return Object(n.jsx)(C,{keyword:t.keyword,title:t.title,text:t.text,date:t.date,source:t.source,image:t.link,savedArticles:e.savedArticles,hoverText:e.hoverText,loggedIn:e.loggedIn,cardId:t._id},a)})):d.map((function(t,a){return Object(n.jsx)(C,{keyword:e.keyword,title:t.title,text:t.description,date:t.publishedAt,source:t.source.name,link:t.url,image:t.urlToImage,savedArticles:e.savedArticles,hoverText:e.hoverText,loggedIn:e.loggedIn},a)}))}),Object(n.jsx)("button",{className:"button card__list-button ".concat(c?"":"card__element_hidden"),onClick:function(){return m(b+3)},children:"Show more"})]})};var S=function(){return Object(n.jsxs)("div",{className:"results__background",children:[Object(n.jsx)("i",{className:"circle-preloader"}),Object(n.jsx)("p",{className:"preloader__text",children:"Searching for news..."})]})};var y=function(){return Object(n.jsxs)("div",{className:"results__background",children:[Object(n.jsx)("img",{src:"data:image/png;base64,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",alt:"frown",className:"results__missing-image"}),Object(n.jsx)("h3",{className:"results__missing-title",children:"Nothing Found"}),Object(n.jsxs)("p",{className:"results__missing-text",children:["Sorry, but nothing matched ",Object(n.jsx)("br",{})," your search terms."]})]})},E=a.p+"static/media/logout_black.b2f4b263.bin";var I=function(e){var t=c.a.useContext(d);function a(){var e=document.querySelector(".header__dropdown-mobile"),t=document.querySelector(".header"),a=document.querySelector(".header__nav"),n=document.querySelector(".header__image"),s=document.querySelector(".header__text");e.classList.toggle("header__dropdown-mobile_active"),e.classList.contains("header__dropdown-mobile_active")&&(t.classList.add("header_menu-open"),a.classList.add("header__nav_menu-open"),s.classList.add("header__text_saved_menu-open"),n.src=[b]),e.classList.contains("header__dropdown-mobile_active")||(t.classList.remove("header_menu-open"),a.classList.remove("header__nav_menu-open"),s.classList.remove("header__text_saved_menu-open"),n.src={logoutBlack:E})}return Object(n.jsxs)("header",{className:"header header_saved",children:[Object(n.jsx)("p",{children:Object(n.jsx)("a",{className:"header__text header__text_saved",href:"/",children:"NewsExplorer"})}),Object(n.jsx)("button",{onClick:a,className:"header__dropdown-mobile header__dropdown-mobile_saved"}),Object(n.jsxs)("div",{className:"header__nav ",children:[Object(n.jsx)(i.b,{className:"header__nav-link header__nav-link_saved",to:"/",children:"Home"}),Object(n.jsx)(i.b,{className:"header__nav-link header__nav-link_saved",activeClassName:"header__nav-link_saved_selected",to:"/saved-news",children:"Saved articles"}),Object(n.jsxs)("button",{className:" button header__button header__button_saved",onClick:function(){e.buttonClick(),a()},children:[t.name,Object(n.jsx)("img",{className:"header__image",src:E,alt:"logout"})]})]})]})};var B=function(e){var t=c.a.useContext(d),a=Object(s.useState)(localStorage.getItem("jwt")),r=Object(l.a)(a,2),o=r[0],i=(r[1],Object(s.useState)([])),u=Object(l.a)(i,2),h=u[0],j=u[1],b=new w({baseUrl:"https://www.api.larkceresin.students.nomoreparties.site",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(o)}});return Object(s.useEffect)((function(){b.getSavedArticles().then((function(e){j(e.articles)})).catch((function(e){return console.log(e)}))}),[h]),Object(n.jsxs)("section",{className:"saved",children:[Object(n.jsx)(I,{buttonClick:e.headerClick}),Object(n.jsx)("p",{className:"saved__title",children:"Saved articles"}),Object(n.jsxs)("h1",{className:"saved__heading",children:[t.name,", you have ",h.length," saved articles"]}),Object(n.jsxs)("p",{className:"saved__text",children:["By keywords: ",Object(n.jsx)("span",{className:"saved__keywords",children:function(){var e=[];h.forEach((function(t){e.push(t.keyword)}));var t=function(e){var t={};return e.forEach((function(e){t[e]=0})),e.filter((function(e){return 1===++t[e]})).sort((function(e,a){return t[a]-t[e]}))}(e),a=t.join(", ");return t.length<=3?a:t.slice(0,2).join(", ")+", and ".concat(t.length-2," others")}()})]}),Object(n.jsx)(N,{cards:h,onSaveClick:e.onSaveClick,loggedIn:"true",hoverText:"Remove from saved"})]})},T=a(3),U=new(function(){function e(t){Object(v.a)(this,e),this._baseUrl=t,this._today=new Date}return Object(k.a)(e,[{key:"_getLastWeek",value:function(){return this._lastWeek=new Date(this._today.getFullYear(),this._today.getMonth(),this._today.getDate()-7),this._lastWeek}},{key:"_getTodayDisplay",value:function(){var e=this._today.getDate(),t=this._today.getMonth(),a=this._today.getFullYear();return this._todayDisplay=a+"-"+t+"-"+e,this._todayDisplay}},{key:"_getLastWeekDisplay",value:function(){var e=this._lastWeek.getFullYear(),t=this._lastWeek.getMonth(),a=this._lastWeek.getDate();return this._lastWeekDisplay=e+"-"+t+"-"+a,this._lastWeekDisplay}},{key:"getArticles",value:function(e){return fetch(this._baseUrl+"/v2/everything?q="+e+"&from="+this._lastWeekDisplay+"&to="+this._todayDisplay+"&pageSize=100&apiKey=4f6e4e7d0f1443aeab5a8dc6dcb3d632",{headers:{authorization:"4f6e4e7d0f1443aeab5a8dc6dcb3d632","content-type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject("Error!"+e.status+e.statusText)}))}}]),e}())("https://nomoreparties.co/news"),R="http://www.api.larkceresin.students.nomoreparties.site",L=function(e){return fetch("".concat(R,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){return e}))},D=a(22),Y=a(21),J=function(e){var t=e.component,a=Object(Y.a)(e,["component"]);return Object(n.jsx)(T.b,{children:function(){return a.loggedIn?Object(n.jsx)(t,Object(D.a)({},a)):Object(n.jsx)(T.a,{to:"/"})}})};var P=function(){var e=Object(s.useState)({}),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(s.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1],b=Object(s.useState)(!1),m=Object(l.a)(b,2),A=m[0],g=m[1],O=Object(s.useState)(!1),v=Object(l.a)(O,2),k=v[0],C=v[1],E=Object(s.useState)(!1),I=Object(l.a)(E,2),D=I[0],Y=I[1],P=Object(s.useState)(""),M=Object(l.a)(P,2),Q=M[0],F=M[1],H=Object(s.useState)([]),V=Object(l.a)(H,2),W=V[0],X=V[1],G=Object(s.useState)([]),z=Object(l.a)(G,2),K=z[0],Z=(z[1],Object(s.useState)(!1)),q=Object(l.a)(Z,2),$=q[0],ee=q[1],te=Object(s.useState)(!1),ae=Object(l.a)(te,2),ne=ae[0],se=ae[1],ce=Object(s.useState)(!1),re=Object(l.a)(ce,2),oe=re[0],ie=re[1],le=Object(s.useState)(""),de=Object(l.a)(le,2),ue=de[0],he=de[1],je=Object(T.g)();function be(){g(!1),C(!1),u(!0)}function me(e){e.target===e.currentTarget&&(u(!1),g(!1),C(!1))}function Ae(){Y(!1),c({}),localStorage.removeItem("jwt"),je.push("/")}return new w({baseUrl:"https://www.api.larkceresin.students.nomoreparties.site",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(ue)}}),Object(s.useEffect)((function(){if(localStorage.getItem("jwt")){var e=localStorage.getItem("jwt");he(e),L(e).then((function(e){c(e),Y(!0)})).catch((function(e){return console.log(e)}))}}),[ue,K]),window.addEventListener("keydown",(function(e){"Escape"===e.code&&(u(!1),g(!1),C(!1))})),Object(n.jsxs)(d.Provider,{value:a,children:[Object(n.jsxs)(T.d,{children:[Object(n.jsxs)(T.b,{exact:!0,path:"/",children:[Object(n.jsx)(_,{headerClick:D?Ae:be,loggedIn:D,search:function(e){F(e),ie(!1),ee(!1),se(!0),U.getArticles(e).then((function(e){X(e.articles)})).then((function(){se(!1),0===W.length?ie(!0):(ie(!1),ee(!0))})).catch((function(e){se(!1),console.log(e)}))}}),$?Object(n.jsx)(N,{cards:W,keyword:Q,loggedIn:D,hoverText:"Sign in to save articles"}):"",oe?Object(n.jsx)(y,{}):"",ne?Object(n.jsx)(S,{}):"",Object(n.jsx)(h,{})]}),Object(n.jsx)(J,{path:"/saved-news",loggedIn:D,component:B,headerClick:Ae})]}),Object(n.jsx)(j,{}),Object(n.jsx)(p,{isOpen:k,linkClick:be,onClose:me}),Object(n.jsx)(f,{isSignInOpen:i,onClose:me,handleSubmit:function(e){var t=e.email;(function(e,t){return fetch("".concat(R,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({password:e,email:t})}).then((function(e){return e.ok?e.json():Promise.reject("Error!"+e.status+e.statusText)})).then((function(e){if(e.token)return localStorage.setItem("jwt",e.token),e}))})(e.password,t).then((function(e){e.token&&he(e.token)})).then((function(){L(ue).then((function(e){c(e),Y(!0)}))})).then((function(){u(!1)})).catch((function(e){return console.log(e)}))},linkClick:function(){u(!1),g(!0)}}),Object(n.jsx)(x,{isSignUpOpen:A,onClose:me,handleSubmit:function(e){(function(e,t,a){return fetch("".concat(R,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:a})}).then((function(e){return e.ok?e.json():Promise.reject("Error!"+e.status+e.statusText)})).then((function(e){return e}))})(e.email,e.password,e.name).then((function(e){console.log(e)})).then((function(){g(!1),C(!0)})).catch((function(e){return console.log(e)}))},linkClick:be})]})},M=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,34)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};o.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(i.a,{basename:"/news-frontend",children:Object(n.jsx)(P,{})})}),document.getElementById("root")),M()}},[[33,1,2]]]);
//# sourceMappingURL=main.e5021d11.chunk.js.map